<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>'BIDS' scans table class — BIDSTabularScans • bidsr</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="'BIDS' scans table class — BIDSTabularScans"><meta name="description" content="A tabular containing a list of scans and their metadata.
The class is a child class of BIDSTabular, hence see
the methods there.
The original specification is at
https://bids-specification.readthedocs.io/en/stable/modality-agnostic-files.html#scans-file."><meta property="og:description" content="A tabular containing a list of scans and their metadata.
The class is a child class of BIDSTabular, hence see
the methods there.
The original specification is at
https://bids-specification.readthedocs.io/en/stable/modality-agnostic-files.html#scans-file."></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">bidsr</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.1.0.9000</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/aaa-get-started.html">Get Started</a></li>
  </ul></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/dipterix/bidsr/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>'BIDS' scans table class</h1>
      <small class="dont-index">Source: <a href="https://github.com/dipterix/bidsr/blob/main/R/class034-bids_scans.R" class="external-link"><code>R/class034-bids_scans.R</code></a></small>
      <div class="d-none name"><code>BIDSTabularScans.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>A tabular containing a list of scans and their metadata.
The class is a child class of <code><a href="BIDSTabular.html">BIDSTabular</a></code>, hence see
the methods there.
The original specification is at
<a href="https://bids-specification.readthedocs.io/en/stable/modality-agnostic-files.html#scans-file" class="external-link">https://bids-specification.readthedocs.io/en/stable/modality-agnostic-files.html#scans-file</a>.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">BIDSTabularScans</span><span class="op">(</span><span class="va">content</span>, meta <span class="op">=</span> <span class="cn">NULL</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-content-meta">content, meta<a class="anchor" aria-label="anchor" href="#arg-content-meta"></a></dt>
<dd><p>see <code><a href="BIDSTabular.html">BIDSTabular</a></code></p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>A <code>BIDSTabularScans</code> instance inheriting
<code><a href="BIDSTabular.html">BIDSTabular</a></code>.</p>
    </div>
    <div class="section level2">
    <h2 id="author">Author<a class="anchor" aria-label="anchor" href="#author"></a></h2>
    <p>Zhengjia Wang</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># basic</span></span></span>
<span class="r-in"><span><span class="va">tabular</span> <span class="op">&lt;-</span> <span class="fu">BIDSTabularScans</span><span class="op">(</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>    filename <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>      <span class="st">"func/sub-control01_task-nback_bold.nii.gz"</span>,</span></span>
<span class="r-in"><span>      <span class="st">"func/sub-control01_task-motor_bold.nii.gz"</span>,</span></span>
<span class="r-in"><span>      <span class="st">"meg/sub-control01_task-rest_split-01_meg.nii.gz"</span></span></span>
<span class="r-in"><span>    <span class="op">)</span>,</span></span>
<span class="r-in"><span>    acq_time <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>      <span class="st">"1877-06-15T13:45:30"</span>,</span></span>
<span class="r-in"><span>      <span class="st">"1877-06-15T13:55:33"</span>,</span></span>
<span class="r-in"><span>      <span class="st">"1877-06-15T12:15:27"</span></span></span>
<span class="r-in"><span>    <span class="op">)</span></span></span>
<span class="r-in"><span>  <span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># No ending Z, time is interpreted as local time</span></span></span>
<span class="r-in"><span><span class="co"># tabular uses UTC time</span></span></span>
<span class="r-in"><span><span class="va">tabular</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> &lt;BIDS Tabular&gt;[BIDSTabular_scans]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $meta:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> {</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   "filename": {</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "LongName": "Filename",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "Description": "[Required, string] Relative paths to files. There MUST be exactly one row for each file. Values in filename MUST be unique. This column must appear first in the file."</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   },</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   "acq_time": {</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "LongName": "Acquisition Time",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "Description": "[Optional, string] Acquisition time refers to when the first data point in each run was acquired. Furthermore, if this header is provided, the acquisition times of all files from the same recording MUST be identical. Datetime format and their deidentification are described in Units. This column may appear anywhere in the file.",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "TermURL": "https://bids-specification.readthedocs.io/en/stable/common-principles.html#units"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   }</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> }</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $content:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                                           filename                  acq_time</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                                             &lt;char&gt;                &lt;nanotime&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1:       func/sub-control01_task-nback_bold.nii.gz 1877-06-15T13:45:30+00:00</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2:       func/sub-control01_task-motor_bold.nii.gz 1877-06-15T13:55:33+00:00</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3: meg/sub-control01_task-rest_split-01_meg.nii.gz 1877-06-15T12:15:27+00:00</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># convert existing tabular</span></span></span>
<span class="r-in"><span><span class="va">tabular</span> <span class="op">&lt;-</span> <span class="fu"><a href="BIDSTabular.html">BIDSTabular</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>    filename <span class="op">=</span> <span class="st">"func/sub-control01_task-nback_bold.nii.gz"</span>,</span></span>
<span class="r-in"><span>    acq_time <span class="op">=</span> <span class="st">"1877-06-15T13:45:30"</span></span></span>
<span class="r-in"><span>  <span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">tabular</span> <span class="op">&lt;-</span> <span class="fu"><a href="BIDSTabular.html">as_bids_tabular</a></span><span class="op">(</span><span class="va">tabular</span>, cls <span class="op">=</span> <span class="va">BIDSTabularScans</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">tabular</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> &lt;BIDS Tabular&gt;[BIDSTabular]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $meta:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> {}</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $content:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                                     filename            acq_time</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                                       &lt;char&gt;              &lt;char&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1: func/sub-control01_task-nback_bold.nii.gz 1877-06-15T13:45:30</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># save to tsv</span></span></span>
<span class="r-in"><span><span class="va">tsv</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/file.path.html" class="external-link">file.path</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/tempfile.html" class="external-link">tempdir</a></span><span class="op">(</span><span class="op">)</span>, <span class="st">"scans.tsv"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">paths</span> <span class="op">&lt;-</span> <span class="fu"><a href="BIDSTabular.html">save_bids_tabular</a></span><span class="op">(</span><span class="va">tabular</span>, <span class="va">tsv</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">paths</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $table_path</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> /tmp/Rtmp3PPIsp/scans.tsv</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $sidecar_path</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> /tmp/Rtmp3PPIsp/scans.json</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-in"><span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># use base R to read</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/read.table.html" class="external-link">read.table</a></span><span class="op">(</span><span class="va">tsv</span>, header <span class="op">=</span> <span class="cn">TRUE</span>, na.strings <span class="op">=</span> <span class="st">"n/a"</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                                    filename            acq_time</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1 func/sub-control01_task-nback_bold.nii.gz 1877-06-15T13:45:30</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># get sidecar</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/cat.html" class="external-link">cat</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/readLines.html" class="external-link">readLines</a></span><span class="op">(</span><span class="va">paths</span><span class="op">$</span><span class="va">sidecar_path</span><span class="op">)</span>, sep <span class="op">=</span> <span class="st">"\n"</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> {}</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># clean up</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/unlink.html" class="external-link">unlink</a></span><span class="op">(</span><span class="va">tsv</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/unlink.html" class="external-link">unlink</a></span><span class="op">(</span><span class="va">paths</span><span class="op">$</span><span class="va">sidecar_path</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Zhengjia Wang.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer></div>





  </body></html>

